<app-page
    [title]="pageTitle"
    dismiss="Cancel"
    (onDismiss)="dismiss()"
    >
    <form class="map"
        [ngClass]="{'show-map': showMap}"
        >
        <p *ngIf="error" class="error">{{error}}</p>
        <fieldset>
            <legend>Enter an address</legend>
            <div class="heartsteps-form-field">
                    <label for="place-address">Address</label>
                    <input type="text"
                        id="place-address"
                        name="address"
                        [ngModel]="address"
                        (ngModelChange)="showPredictions($event)"
                        /> 
                </div>
                <ul *ngIf="addressPredictions">
                    <li *ngFor="let address of addressPredictions">
                        <button (click)="setAddress(address.description)">
                            {{address.description}}
                        </button>
                    </li> 
                </ul>
        </fieldset>
        <div #map id="map" width="100%" height="200px"></div>
        <div class="controls">
            <button *ngIf="!updateView" class="primary" (click)="update()" >Save</button>
            <button *ngIf="updateView" (click)="update()" >Update</button>
            <button *ngIf="updateView" class="danger" (click)="delete()">Delete</button>
        </div>
    </form>
</app-page>
